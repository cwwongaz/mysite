{% extends "webstore/layout.html" %}

{% block body %}
<div style="height: 580px; width: 360px; margin: auto; padding: 25px; border: 1px solid #E6F1F4; border-radius: 5px;">
    <h2>Register</h2>

    {% if message %}
        <div style="font-size: 14px; color: #F22424">{{ message }}</div>
    {% endif %}
    <form action="{% url 'webstore:register' %}" method="post">
        {% csrf_token %}
        <style>
            .register_and_login:focus {box-shadow: 0 0 5px #D9990A;}
        </style>
        <div class="form-group">
            <strong><span style="font-size: 14px;">Your username:</span></strong>
            <input class="form-control register_and_login" style="height: 32.5px; font-size: 14px; border: 1px solid #9B9791;" autofocus type="text" name="username" placeholder="Username">
        </div>
        <div class="form-group">
            <strong><span style="font-size: 14px;">Your email address: </span></strong>
            <input class="form-control register_and_login" style="height: 32.5px; font-size: 14px; border: 1px solid #9B9791;" type="email" name="email" placeholder="Email Address">
        </div>
        <div class="form-group">
            <strong><span style="font-size: 14px;">Your birthday: </span></strong>
            <input id="birthday" class="form-control register_and_login" style="height: 32.5px; font-size: 14px; border: 1px solid #9B9791;" type="date" min="1900-01-01" max="" name="birthday" placeholder="Birthday">
        </div>
        <div class="form-group">
            <strong><span style="font-size: 14px;">Your password: </span></strong>
            <input class="form-control register_and_login" style="height: 32.5px; font-size: 14px; border: 1px solid #9B9791;" type="password" name="password" placeholder="Password">
        </div>
        <div class="form-group">
            <strong><span style="font-size: 14px;">Re-Enter your password: </span></strong>
            <input class="form-control register_and_login" style="height: 32.5px; font-size: 14px; border: 1px solid #9B9791;" type="password" name="confirmation" placeholder="Confirm Password">
        </div>
        <input class="btn btn-primary form-control" style="height: 32.5px; font-size: 14px; padding: 5px; color: #303030;background-color: #F7D69A; box-shadow: 0px -5px 15px 5px #F8C059 inset; border: 1px solid #976819" type="submit" value="Register">
    </form>
    <br>
    <span style="font-size: 14px;">Already have an account? <a href="{% url 'webstore:login' %}">Log In here.</a></span>
</div>

<script>
    function date(){
        var today = new Date();
        var dd = String(today.getDate()).padStart(2, '0');
        var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!
        var yyyy = today.getFullYear();

        today = yyyy + '-' + mm + '-' + dd;
        document.querySelector("#birthday").max = today
    }
    date()
</script>
{% endblock %}